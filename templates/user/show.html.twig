{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!
{% endblock %}

{% block body %}
	<section>
		<div class="container" style="padding-top: 100px; margin-left: 300px">
			<div>
				<div class="row gutters-sm">
					<div class="col-md-4 mb-3">
						<div class="card">
							<div class="card-body">
								<div class="d-flex flex-column align-items-center text-center">
									<h4>{{user.lastname}}
										{{user.firstname}}</h4>
									<img src="{{ user.avatar}}" style="height: 100px; border-radius: 6px; margin-left: 5px">
                                    
									<div class="mt-3">
										<p class="text-secondary mb-1">Employé depuis le :</p>
										<p class="text-muted font-size-sm">{{ app.user.createdAt ? app.user.createdAt|date('d-m-Y') : '' }}</p>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-8">
						<div class="card mb-3">
							<div class="card-body">
                                <div class="row">
									<div class="col-sm-3">
										<h6 class="mb-0">ID</h6>
									</div>
									<div class="col-sm-9 text-secondary">
										{{user.id}}
									</div>
								</div>
								<hr>
								<div class="row">
									<div class="col-sm-3">
										<h6 class="mb-0">Nom</h6>
									</div>
									<div class="col-sm-9 text-secondary">
										{{user.lastname}}
									</div>
								</div>
								<hr>
								<div class="row">
									<div class="col-sm-3">
										<h6 class="mb-0">Prenom</h6>
									</div>
									<div class="col-sm-9 text-secondary">
										{{user.firstname}}
									</div>
								</div>
								<hr>
                                 <div class="row">
									<div class="col-sm-3">
										<h6 class="mb-0">Téléphone</h6>
									</div>
									<div class="col-sm-9 text-secondary">
										{{user.tel}}
									</div>
								</div>
								<hr>
								<div class="row">
									<div class="col-sm-3">
										<h6 class="mb-0">Email</h6>
									</div>
									<div class="col-sm-9 text-secondary">
										{{user.email}}
									</div>
								</div>
								<hr>
								<div class="row">
									<div class="col-sm-3">
										<h6 class="mb-0">Address</h6>
									</div>
									<div class="col-sm-9 text-secondary">
										{{user.address}}
									</div>
								</div>
								<hr>
                                 <div class="row">
									<div class="col-sm-3">
										<h6 class="mb-0">Rôle</h6>
									</div>
									<div class="col-sm-9 text-secondary">
									{% for role in user.roles %}
							            {% if role == "ROLE_ADMIN" %}
								            {% set name = "Administrateur" %}
								            {% set color = "danger" %}
                                        {% elseif  role == "ROLE_SENIOR"%}
                                            {% set name = "Senior" %}
                                            {% set color = "warning" %}
                                        {% elseif  role == "ROLE_APPRENTI"%}
                                            {% set name = "Apprenti" %}
                                            {% set color = "primary" %}    
                                        {% elseif  role == "ROLE_CLIENT"%}
                                            {% set name = "Client" %}
                                            {% set color = "secondary" %}       
							            {% else %}
								            {% set name = "Membre" %}
								            {% set color = "success" %}
							            {% endif %}
							        <span class="badge bg-{{ color }}">{{ name }}</span>
						            {% endfor %}
								   </div>
								</div>
								<hr>
								<div class="row">
									<div
										class="col-sm-12">{# <a href="{{ path('app_user_edit', {'id': user.id}) }}">edit</a> #}
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>

			</div>
        <a href="{{ path('app_user_index') }}" class= "retour">← back to list</a>
		</div>
	</div>
</section>{% endblock %}