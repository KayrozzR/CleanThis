{% block body %}
	<section class="home1">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-6">
					<div class="card">
						<div class="card-header">
							<h2 class="text-center">Demande de devis</h2>
							<p>Faites votre demande de devis qui sera analysée par notre équipe pour qu’elle puisse revenir vers vous et convenir d’un rendez-vous !</p>
						</div>
						<div class="card-body">
							{{ form_start(form) }}
							<div class="row">
								<div class="col-md-6">
									{{ form_row(form.lastname) }}
								</div>
								<div class="col-md-6">
									{{ form_row(form.firstname) }}
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									{{ form_row(form.mail) }}
								</div>
								<div class="col-md-6">
									{{ form_row(form.mailConfirmation) }}
								</div>
							</div>

							<div class="row">
								<div class="col-md-6">
									{{ form_row(form.tel) }}
								</div>
								<div class="col-md-6">
									{{ form_row(form.adresse_intervention) }}
								</div>
							</div>
							<div style="margin-left: 25%" class="col-md-6">
								<div class="d-flex align-items-center">
								{{ form_row(form.Type_Operation) }}
								<a href="/type/operation">
									<span class="type-description" style="cursor: pointer;">
										<i style="font-size: 30px; margin-top: 25px;" class='bx bx-info-circle'></i>
									</span>
								</a>
								</div>
							</div>
							<div id="image-object-field" style="display: none;">
								{{ form_row(form.image_object) }}
							</div>

							{{ form_row(form.comment) }}

							<button class="btn">Envoi devis</button>
							{{ form_end(form) }}
							<a href="{{ path('app_devis_index') }}">Retour à la liste</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function () { // Hide the image object field initially
$('#image-object-field').hide();

// Show/hide the image object field based on the selected option
$('.type-operation-select').change(function () {
console.log('Nouvelle valeur sélectionnée :', $(this).val());
if ($(this).val() === '14') {
console.log('Service Custom sélectionné');
$('#image-object-field').show();
} else {
console.log('Autre option sélectionnée');
$('#image-object-field').hide();
}
});
});
	</script>

	<script>
		$(document).ready(function () {
var descriptions = {
'7': 'Description pour le type d\'opération 1.',
'8': 'Ce service offre une gamme plus étendue de nettoyage, adaptée aux besoins plus spécifiques des clients. En plus des tâches de nettoyage de base, il comprend le nettoyage des vitres, le nettoyage des tapis et des moquettes, le dépoussiérage en profondeur des meubles, ainsi que le nettoyage des appareils électroménagers. Il convient aux résidences plus grandes, aux bureaux de taille moyenne et aux espaces commerciaux haut de gamme.',
'14': 'Description pour le service Custom.'
};

$('.type-description').click(function () {
var selectedType = $('.type-operation-select').val();
var description = descriptions[selectedType];
var container = $(this).siblings('.description-container');

if (description) {
container.text(description);
container.slideToggle();
} else {
container.text('Aucune description disponible.');
container.slideToggle();
}
});
});
	</script>
{% endblock %}
