{% block body %}
	<section class="home1">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-6">
					<div class="card">
						<div class="card-header">
							<h2 class="text-center">Demande de devis</h2>
							<p>Faites votre demande de devis qui sera analysée par notre équipe pour qu’elle puisse revenir vers vous et convenir d’un rendez-vous !</p>
						</div>
						<div class="card-body">
							{{ form_start(form) }}
							<div class="row">
								<div class="col-md-6">
									{{ form_row(form.lastname) }}
								</div>
								<div class="col-md-6">
									{{ form_row(form.firstname) }}
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									{{ form_row(form.mail) }}
								</div>
								<div class="col-md-6">
									{{ form_row(form.tel) }}
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									{{ form_row(form.adresse_intervention) }}
								</div>
								<div class="col-md-6">
									{{ form_row(form.Type_Operation) }}
									<button type="button" class="btn btn-primary add-operation">Ajouter</button>
								</div>
							</div>
							{{ form_row(form.image_object) }}
							
							{{ form_row(form.comment) }}
							{{ form_row(form.status) }}

							<button class="btn">Envoi devis</button>
							{{ form_end(form) }}
							<a href="{{ path('app_devis_index') }}">Retour à la liste</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

<script>
        document.addEventListener('DOMContentLoaded', function () {
            const addButton = document.querySelector('.add-operation');
            const typeOperationField = document.querySelector('#{{ form.Type_Operation.vars.id }}');
            
            addButton.addEventListener('click', function () {
                const newField = document.createElement('input');
                newField.setAttribute('type', 'text');
                newField.setAttribute('name', '{{ form.Type_Operation.vars.full_name }}');
                newField.setAttribute('value', typeOperationField.value);
				newField.setAttribute('readonly', 'readonly');
                newField.classList.add('form-control');
                
                const row = document.createElement('div');
                row.classList.add('row');
                const col = document.createElement('div');
                col.classList.add('col-md-6');
                col.appendChild(newField);
                
                row.appendChild(col);
                typeOperationField.parentNode.parentNode.parentNode.insertBefore(row, typeOperationField.parentNode.parentNode.nextSibling);
            });
        });
    </script>

{% endblock %}
